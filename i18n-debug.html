<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IAFEI å¤šè¯­è¨€æµ‹è¯•é¡µé¢</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
        }
        .test-section {
            background: #f5f5f5;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
        }
        .language-selector {
            background: white;
            padding: 10px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        .language-selector button {
            margin: 5px;
            padding: 8px 15px;
            border: 1px solid #ccc;
            background: white;
            cursor: pointer;
            border-radius: 4px;
        }
        .language-selector button:hover {
            background: #e9e9e9;
        }
        .debug-info {
            background: #333;
            color: white;
            padding: 15px;
            border-radius: 8px;
            font-family: monospace;
            font-size: 12px;
            margin-top: 20px;
        }
        h1, h2 { color: #003366; }
        .status { 
            padding: 10px; 
            border-radius: 4px; 
            margin: 10px 0;
        }
        .success { background: #d4edda; color: #155724; }
        .error { background: #f8d7da; color: #721c24; }
    </style>
</head>
<body>
    <h1>ğŸŒ IAFEI å¤šè¯­è¨€åŠŸèƒ½æµ‹è¯•</h1>
    
    <div class="language-selector">
        <h3>è¯­è¨€é€‰æ‹©å™¨æµ‹è¯•</h3>
        <button onclick="testLanguage('en')">English</button>
        <button onclick="testLanguage('zh-cn')">ç®€ä½“ä¸­æ–‡</button>
        <button onclick="testLanguage('zh-tw')">ç¹é«”ä¸­æ–‡</button>
        <button onclick="testLanguage('ja')">æ—¥æœ¬èª</button>
        <button onclick="testLanguage('de')">Deutsch</button>
        <button onclick="testLanguage('it')">Italiano</button>
    </div>

    <div class="test-section">
        <h2>ç¿»è¯‘æµ‹è¯•å†…å®¹</h2>
        <p><strong>å¯¼èˆªé¦–é¡µ:</strong> <span data-i18n="navigation.home">Home</span></p>
        <p><strong>Heroæ ‡é¢˜:</strong> <span data-i18n="hero.title">IAFEI World Congress 2025</span></p>
        <p><strong>Heroå‰¯æ ‡é¢˜:</strong> <span data-i18n="hero.subtitle">Advancing Financial Excellence Worldwide</span></p>
        <p><strong>å…³äºIAFEI:</strong> <span data-i18n="homepage.about.title">About IAFEI</span></p>
        <p><strong>åˆä½œä¼™ä¼´æ ‡é¢˜:</strong> <span data-i18n="homepage.partnersTitle">IAFEI Partners</span></p>
        <p><strong>åˆä½œä¼™ä¼´-åŸƒæ£®å“²:</strong> <span data-i18n="homepage.partners.accenture.name">Accenture</span></p>
        <p><strong>äº®ç‚¹æ ‡é¢˜:</strong> <span data-i18n="homepage.highlights.title">IAFEI 2025 Highlights</span></p>
        <p><strong>æ–°é—»æ ‡é¢˜:</strong> <span data-i18n="homepage.news.title">Latest News</span></p>
        <p><strong>ä¼šå‘˜æ ‡é¢˜:</strong> <span data-i18n="homepage.membership.title">Become a Member</span></p>
        <p><strong>è”ç³»æˆ‘ä»¬:</strong> <span data-i18n="navigation.contact">Contact</span></p>
        <p><strong>ç‰ˆæƒä¿¡æ¯:</strong> <span data-i18n="footer.copyright">&copy; 2025 International Association of Financial Executives Institutes. All rights reserved.</span></p>
    </div>

    <div class="status" id="status"></div>

    <div class="debug-info" id="debug">
        è°ƒè¯•ä¿¡æ¯å°†åœ¨è¿™é‡Œæ˜¾ç¤º...
    </div>

    <script src="js/i18n.js"></script>
    <script>
        let i18n;
        
        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', async function() {
            const debug = document.getElementById('debug');
            const status = document.getElementById('status');
            
            try {
                debug.innerHTML = 'æ­£åœ¨åˆå§‹åŒ–i18nç³»ç»Ÿ...';
                
                // æ£€æŸ¥i18nç±»æ˜¯å¦å­˜åœ¨
                if (typeof I18nManager === 'undefined') {
                    throw new Error('I18nManager ç±»æœªæ‰¾åˆ°');
                }
                
                debug.innerHTML += '\nâœ… I18nManager ç±»å·²åŠ è½½';
                
                // åˆ›å»ºå®ä¾‹
                i18n = new I18nManager();
                debug.innerHTML += '\nâœ… I18nManager å®ä¾‹å·²åˆ›å»º';
                
                // åˆå§‹åŒ–
                await i18n.init();
                debug.innerHTML += '\nâœ… I18n ç³»ç»Ÿåˆå§‹åŒ–å®Œæˆ';
                debug.innerHTML += '\nğŸ“ å½“å‰è¯­è¨€: ' + i18n.currentLang;
                debug.innerHTML += '\nğŸ“‚ æ”¯æŒçš„è¯­è¨€: ' + Object.keys(i18n.supportedLanguages).join(', ');
                
                status.className = 'status success';
                status.textContent = 'âœ… å¤šè¯­è¨€ç³»ç»Ÿåˆå§‹åŒ–æˆåŠŸï¼ç°åœ¨å¯ä»¥æµ‹è¯•è¯­è¨€åˆ‡æ¢åŠŸèƒ½ã€‚';
                
            } catch (error) {
                debug.innerHTML += '\nâŒ é”™è¯¯: ' + error.message;
                status.className = 'status error';
                status.textContent = 'âŒ åˆå§‹åŒ–å¤±è´¥: ' + error.message;
                console.error('åˆå§‹åŒ–é”™è¯¯:', error);
            }
        });
        
        // æµ‹è¯•è¯­è¨€åˆ‡æ¢
        async function testLanguage(lang) {
            const debug = document.getElementById('debug');
            const status = document.getElementById('status');
            
            try {
                if (!i18n) {
                    throw new Error('i18nç³»ç»Ÿæœªåˆå§‹åŒ–');
                }
                
                debug.innerHTML += '\n\nğŸ”„ åˆ‡æ¢åˆ°è¯­è¨€: ' + lang;
                
                await i18n.setLanguage(lang);
                
                debug.innerHTML += '\nâœ… è¯­è¨€åˆ‡æ¢æˆåŠŸ: ' + lang;
                debug.innerHTML += '\nğŸ“ å½“å‰ç¿»è¯‘é”®æ•°é‡: ' + Object.keys(i18n.translations || {}).length;
                
                status.className = 'status success';
                status.textContent = 'âœ… å·²åˆ‡æ¢åˆ°: ' + i18n.supportedLanguages[lang];
                
                // æµ‹è¯•ç‰¹å®šç¿»è¯‘
                const testKey = 'navigation.home';
                const translation = i18n.getTranslation(testKey);
                debug.innerHTML += '\nğŸ§ª æµ‹è¯•ç¿»è¯‘ "' + testKey + '": ' + translation;
                
            } catch (error) {
                debug.innerHTML += '\nâŒ è¯­è¨€åˆ‡æ¢é”™è¯¯: ' + error.message;
                status.className = 'status error';
                status.textContent = 'âŒ åˆ‡æ¢å¤±è´¥: ' + error.message;
                console.error('è¯­è¨€åˆ‡æ¢é”™è¯¯:', error);
            }
        }
    </script>
</body>
</html>