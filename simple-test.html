<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple Language Test</title>
    <style>
        body { padding: 40px; font-family: Arial, sans-serif; }
        .test-btn { padding: 10px 20px; margin: 10px; border: 1px solid #333; cursor: pointer; }
        .dropdown { border: 1px solid #333; margin: 10px 0; display: none; }
        .dropdown.open { display: block; }
        .option { padding: 8px; cursor: pointer; }
        .option:hover { background: #f0f0f0; }
    </style>
</head>
<body>
    <h1>Simple Language Selector Test</h1>
    
    <button id="testBtn" class="test-btn">Language: English ▼</button>
    <div id="testDropdown" class="dropdown">
        <div class="option" data-lang="en">English</div>
        <div class="option" data-lang="zh-cn">简体中文</div>
        <div class="option" data-lang="zh-tw">繁體中文</div>
    </div>
    
    <div id="log" style="margin-top: 20px; padding: 20px; background: #f5f5f5; border-radius: 4px;"></div>

    <script>
        function log(message) {
            const logDiv = document.getElementById('log');
            logDiv.innerHTML += '<div>' + new Date().toLocaleTimeString() + ': ' + message + '</div>';
            console.log(message);
        }
        
        document.addEventListener('DOMContentLoaded', function() {
            log('DOM loaded');
            
            const btn = document.getElementById('testBtn');
            const dropdown = document.getElementById('testDropdown');
            const options = document.querySelectorAll('.option');
            
            log('Elements found - btn: ' + !!btn + ', dropdown: ' + !!dropdown + ', options: ' + options.length);
            
            // Button click event
            btn.addEventListener('click', function(e) {
                e.preventDefault();
                e.stopPropagation();
                log('Button clicked!');
                
                const isOpen = dropdown.classList.contains('open');
                if (isOpen) {
                    dropdown.classList.remove('open');
                    log('Dropdown closed');
                } else {
                    dropdown.classList.add('open');
                    log('Dropdown opened');
                }
            });
            
            // Option click events
            options.forEach(function(option, index) {
                option.addEventListener('click', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    const lang = this.getAttribute('data-lang');
                    log('Option clicked: ' + lang);
                    btn.textContent = 'Language: ' + this.textContent + ' ▼';
                    dropdown.classList.remove('open');
                });
            });
            
            // Close on outside click
            document.addEventListener('click', function(e) {
                if (!btn.contains(e.target) && !dropdown.contains(e.target)) {
                    dropdown.classList.remove('open');
                    log('Clicked outside, dropdown closed');
                }
            });
        });
    </script>
</body>
</html>